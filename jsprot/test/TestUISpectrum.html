<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>Testing UI Spectrum</title>
		
		<script type="text/javascript" src="lib/ext3/ext-base.js"></script>
		<script type="text/javascript" src="lib/ext3/ext-all.js"></script>
		<script type="text/javascript" src="../src/constants.js"></script>
		<script type="text/javascript" src="../src/XProtBase.js"></script>
		<script type="text/javascript" src="../src/Peptide.js"></script>
		<script type="text/javascript" src="../src/ModifiedPeptide.js"></script>
		<script type="text/javascript" src="../src/peptide/IonCalculator.js"></script>
		<script type="text/javascript" src="../src/peptide/Spectrum.js"></script>
		<script type="text/javascript" src="../src/ui/Spectrum.js"></script>
		<script type="text/javascript" src="../src/ui/drawers/GoogleVisDrawer.js"></script>
		<script type="text/javascript" src="http://www.google.com/jsapi"></script>
	</head>
	<body>
	<div id="spec"></div>
	<div id="view"></div>
		
		<script type="text/javascript">
			google.load('visualization', '1', {packages:['columnchart', 'table']});
		</script>
		
		<script type="text/javascript">
			var arrSpectrum = [{mass: 234.062, intensity: 1.9
	},{mass: 243.459, intensity: 3.1
	},{mass: 249.239, intensity: 26.3
	},{mass: 251.291, intensity: 1.6
	},{mass: 252.147, intensity: 3.8
	},{mass: 254.193, intensity: 4.4
	},{mass: 259.133, intensity: 1.6
	},{mass: 262.261, intensity: 13.5
	},{mass: 263.038, intensity: 1.9
	},{mass: 266.080, intensity: 1.9
	},{mass: 267.659, intensity: 7.9
	},{mass: 269.093, intensity: 4.9
	},{mass: 270.453, intensity: 9.6
	},{mass: 274.432, intensity: 2.7
	},{mass: 277.132, intensity: 78.5
	},{mass: 278.218, intensity: 8.7
	},{mass: 279.391, intensity: 7.8
	},{mass: 284.293, intensity: 2.2
	},{mass: 289.980, intensity: 8.1
	},{mass: 293.161, intensity: 4.9
	},{mass: 294.286, intensity: 152.5
	},{mass: 295.023, intensity: 33.8
	},{mass: 295.863, intensity: 4.8
	},{mass: 297.401, intensity: 5.5
	},{mass: 298.401, intensity: 2.9
	},{mass: 300.113, intensity: 2.0
	},{mass: 304.182, intensity: 2.7
	},{mass: 305.251, intensity: 13.7
	},{mass: 306.308, intensity: 17.8
	},{mass: 310.111, intensity: 7.6
	},{mass: 312.218, intensity: 1151.9
	},{mass: 313.300, intensity: 166.3
	},{mass: 315.222, intensity: 9.2
	},{mass: 320.381, intensity: 5.3
	},{mass: 322.283, intensity: 79.8
	},{mass: 323.202, intensity: 15.9
	},{mass: 324.446, intensity: 11.2
	},{mass: 327.342, intensity: 13.2
	},{mass: 331.210, intensity: 2.3
	},{mass: 332.192, intensity: 3.2
	},{mass: 333.950, intensity: 9.3
	},{mass: 336.107, intensity: 8.7
	},{mass: 337.332, intensity: 3.9
	},{mass: 340.173, intensity: 502.5
	},{mass: 341.035, intensity: 61.3
	},{mass: 342.086, intensity: 2.8
	},{mass: 342.927, intensity: 6.7
	},{mass: 346.160, intensity: 4.9
	},{mass: 348.198, intensity: 23.0
	},{mass: 348.819, intensity: 1.6
	},{mass: 349.803, intensity: 4.5
	},{mass: 350.411, intensity: 8.1
	},{mass: 351.387, intensity: 1.6
	},{mass: 353.816, intensity: 6.5
	},{mass: 358.171, intensity: 146.5
	},{mass: 359.166, intensity: 8.5
	},{mass: 361.122, intensity: 17.8
	},{mass: 362.214, intensity: 3.1
	},{mass: 363.338, intensity: 19.2
	},{mass: 365.312, intensity: 4.0
	},{mass: 367.228, intensity: 4.6
	},{mass: 369.162, intensity: 5.8
	},{mass: 373.401, intensity: 6.5
	},{mass: 375.162, intensity: 6.5
	},{mass: 376.340, intensity: 16.7
	},{mass: 377.112, intensity: 5.1
	},{mass: 379.065, intensity: 9.7
	},{mass: 381.129, intensity: 4.1
	},{mass: 382.429, intensity: 5.6
	},{mass: 383.113, intensity: 5.9
	},{mass: 385.410, intensity: 11.5
	},{mass: 386.297, intensity: 3.9
	},{mass: 387.353, intensity: 3.8
	},{mass: 389.170, intensity: 2.1
	},{mass: 390.323, intensity: 8.9
	},{mass: 391.181, intensity: 11.1
	},{mass: 392.053, intensity: 1.5
	},{mass: 393.311, intensity: 14.6
	},{mass: 394.149, intensity: 6.4
	},{mass: 397.196, intensity: 19.8
	},{mass: 399.244, intensity: 3.3
	},{mass: 405.307, intensity: 3.9
	},{mass: 406.550, intensity: 5.7
	},{mass: 407.352, intensity: 7.4
	},{mass: 409.262, intensity: 37.0
	},{mass: 410.320, intensity: 6.6
	},{mass: 411.627, intensity: 5.4
	},{mass: 412.309, intensity: 17.4
	},{mass: 413.368, intensity: 11.1
	},{mass: 414.200, intensity: 2.8
	},{mass: 415.313, intensity: 3.0
	},{mass: 418.488, intensity: 6.0
	},{mass: 419.328, intensity: 7.8
	},{mass: 421.614, intensity: 9.8
	},{mass: 425.392, intensity: 11.7
	},{mass: 426.740, intensity: 19.5
	},{mass: 427.364, intensity: 206.3
	},{mass: 428.485, intensity: 56.1
	},{mass: 429.327, intensity: 6.4
	},{mass: 430.636, intensity: 6.7
	},{mass: 432.209, intensity: 5.3
	},{mass: 434.078, intensity: 1.5
	},{mass: 435.363, intensity: 4.0
	},{mass: 436.381, intensity: 3.3
	},{mass: 437.608, intensity: 2.1
	},{mass: 438.417, intensity: 2.7
	},{mass: 439.519, intensity: 9.3
	},{mass: 441.231, intensity: 4.1
	},{mass: 443.381, intensity: 56.2
	},{mass: 444.746, intensity: 16.5
	},{mass: 446.282, intensity: 12.7
	},{mass: 447.210, intensity: 3.7
	},{mass: 448.222, intensity: 19.7
	},{mass: 449.193, intensity: 4.0
	},{mass: 450.300, intensity: 5.3
	},{mass: 451.459, intensity: 3.9
	},{mass: 452.183, intensity: 1.6
	},{mass: 453.253, intensity: 17.9
	},{mass: 455.235, intensity: 5.6
	},{mass: 456.493, intensity: 5.8
	},{mass: 459.302, intensity: 16.3
	},{mass: 462.120, intensity: 6.8
	},{mass: 463.173, intensity: 10.7
	},{mass: 464.114, intensity: 8.2
	},{mass: 465.247, intensity: 7.4
	},{mass: 466.432, intensity: 9.8
	},{mass: 467.419, intensity: 15.9
	},{mass: 469.305, intensity: 11.9
	},{mass: 471.280, intensity: 97.4
	},{mass: 472.343, intensity: 47.7
	},{mass: 473.982, intensity: 5.5
	},{mass: 475.333, intensity: 10.5
	},{mass: 475.991, intensity: 25.9
	},{mass: 478.212, intensity: 3.5
	},{mass: 479.220, intensity: 4.9
	},{mass: 480.099, intensity: 25.2
	},{mass: 482.400, intensity: 2.8
	},{mass: 483.515, intensity: 5.2
	},{mass: 486.711, intensity: 8.3
	},{mass: 487.735, intensity: 3.7
	},{mass: 491.261, intensity: 10.1
	},{mass: 492.284, intensity: 8.8
	},{mass: 493.370, intensity: 20.3
	},{mass: 496.460, intensity: 15.8
	},{mass: 497.362, intensity: 4.7
	},{mass: 498.860, intensity: 4.2
	},{mass: 499.492, intensity: 3.9
	},{mass: 500.289, intensity: 8.6
	},{mass: 501.428, intensity: 5.2
	},{mass: 502.328, intensity: 30.3
	},{mass: 503.293, intensity: 4.5
	},{mass: 506.101, intensity: 18.9
	},{mass: 507.401, intensity: 9.5
	},{mass: 509.350, intensity: 5.4
	},{mass: 510.373, intensity: 46.2
	},{mass: 511.458, intensity: 3.6
	},{mass: 513.430, intensity: 12.1
	},{mass: 515.086, intensity: 8.2
	},{mass: 516.245, intensity: 9.9
	},{mass: 517.184, intensity: 19.3
	},{mass: 518.283, intensity: 24.7
	},{mass: 519.314, intensity: 1.6
	},{mass: 520.387, intensity: 13.3
	},{mass: 523.587, intensity: 15.6
	},{mass: 524.410, intensity: 14.1
	},{mass: 525.329, intensity: 29.4
	},{mass: 526.398, intensity: 21.6
	},{mass: 528.417, intensity: 69.5
	},{mass: 529.529, intensity: 25.0
	},{mass: 531.065, intensity: 8.8
	},{mass: 532.309, intensity: 4.9
	},{mass: 533.865, intensity: 21.6
	},{mass: 536.172, intensity: 13.0
	},{mass: 537.200, intensity: 8.7
	},{mass: 538.641, intensity: 4.1
	},{mass: 539.416, intensity: 6.0
	},{mass: 541.200, intensity: 14.7
	},{mass: 542.346, intensity: 123.3
	},{mass: 543.405, intensity: 17.0
	},{mass: 544.350, intensity: 4.7
	},{mass: 544.981, intensity: 14.8
	},{mass: 545.832, intensity: 19.0
	},{mass: 546.651, intensity: 14.3
	},{mass: 548.960, intensity: 3.7
	},{mass: 550.956, intensity: 19.9
	},{mass: 552.159, intensity: 14.0
	},{mass: 553.416, intensity: 16.8
	},{mass: 555.569, intensity: 8.4
	},{mass: 558.004, intensity: 1.8
	},{mass: 559.724, intensity: 2.6
	},{mass: 560.373, intensity: 5.8
	},{mass: 561.925, intensity: 4.3
	},{mass: 563.004, intensity: 6.1
	},{mass: 564.296, intensity: 8.5
	},{mass: 565.278, intensity: 20.3
	},{mass: 565.896, intensity: 8.7
	},{mass: 567.200, intensity: 5.4
	},{mass: 568.486, intensity: 9.0
	},{mass: 569.466, intensity: 26.0
	},{mass: 570.332, intensity: 15.9
	},{mass: 571.255, intensity: 9.4
	},{mass: 572.298, intensity: 7.1
	},{mass: 573.485, intensity: 14.3
	},{mass: 574.406, intensity: 5.7
	},{mass: 575.360, intensity: 7.1
	},{mass: 576.931, intensity: 4.0
	},{mass: 578.388, intensity: 11.6
	},{mass: 579.309, intensity: 8.3
	},{mass: 581.404, intensity: 18.1
	},{mass: 582.448, intensity: 22.4
	},{mass: 585.499, intensity: 11.2
	},{mass: 586.271, intensity: 4.0
	},{mass: 587.365, intensity: 4.5
	},{mass: 589.305, intensity: 30.0
	},{mass: 590.165, intensity: 1.9
	},{mass: 591.125, intensity: 3.0
	},{mass: 592.333, intensity: 9.7
	},{mass: 593.228, intensity: 24.3
	},{mass: 595.295, intensity: 11.8
	},{mass: 596.472, intensity: 28.0
	},{mass: 597.387, intensity: 29.9
	},{mass: 598.329, intensity: 6.5
	},{mass: 598.985, intensity: 7.0
	},{mass: 600.448, intensity: 1.5
	},{mass: 602.351, intensity: 9.5
	},{mass: 604.212, intensity: 21.8
	},{mass: 605.617, intensity: 38.2
	},{mass: 606.561, intensity: 20.4
	},{mass: 607.729, intensity: 11.6
	},{mass: 609.284, intensity: 13.2
	},{mass: 610.306, intensity: 15.4
	},{mass: 611.423, intensity: 18.4
	},{mass: 612.955, intensity: 8.8
	},{mass: 614.652, intensity: 2.2
	},{mass: 615.993, intensity: 12.0
	},{mass: 616.980, intensity: 25.0
	},{mass: 619.405, intensity: 21.2
	},{mass: 620.191, intensity: 12.7
	},{mass: 621.643, intensity: 61.9
	},{mass: 622.401, intensity: 8.7
	},{mass: 623.418, intensity: 39.6
	},{mass: 624.653, intensity: 30.7
	},{mass: 625.567, intensity: 10.2
	},{mass: 626.347, intensity: 19.8
	},{mass: 627.515, intensity: 22.0
	},{mass: 628.136, intensity: 3.6
	},{mass: 629.282, intensity: 29.6
	},{mass: 629.966, intensity: 18.8
	},{mass: 631.157, intensity: 35.2
	},{mass: 632.132, intensity: 23.9
	},{mass: 633.810, intensity: 36.0
	},{mass: 634.737, intensity: 60.9
	},{mass: 635.372, intensity: 12.9
	},{mass: 636.582, intensity: 13.6
	},{mass: 639.447, intensity: 99.4
	},{mass: 640.582, intensity: 32.0
	},{mass: 641.358, intensity: 131.7
	},{mass: 642.746, intensity: 72.9
	},{mass: 643.706, intensity: 16.6
	},{mass: 646.050, intensity: 6.5
	},{mass: 647.394, intensity: 3.6
	},{mass: 649.373, intensity: 10.3
	},{mass: 650.291, intensity: 7.3
	},{mass: 651.481, intensity: 3.4
	},{mass: 652.083, intensity: 19.0
	},{mass: 653.328, intensity: 9.0
	},{mass: 654.006, intensity: 19.7
	},{mass: 654.784, intensity: 9.3
	},{mass: 655.809, intensity: 12.1
	},{mass: 656.629, intensity: 17.8
	},{mass: 657.382, intensity: 169.8
	},{mass: 658.390, intensity: 21.4
	},{mass: 659.207, intensity: 12.4
	},{mass: 660.697, intensity: 4.2
	},{mass: 662.139, intensity: 10.5
	},{mass: 663.241, intensity: 26.5
	},{mass: 664.296, intensity: 8.5
	},{mass: 665.348, intensity: 26.4
	},{mass: 666.310, intensity: 13.7
	},{mass: 667.286, intensity: 18.3
	},{mass: 668.521, intensity: 21.3
	},{mass: 669.341, intensity: 41.3
	},{mass: 670.567, intensity: 17.7
	},{mass: 671.441, intensity: 9.5
	},{mass: 672.164, intensity: 14.8
	},{mass: 673.427, intensity: 36.9
	},{mass: 674.118, intensity: 15.2
	},{mass: 676.180, intensity: 2.2
	},{mass: 677.289, intensity: 14.7
	},{mass: 678.558, intensity: 7.3
	},{mass: 680.378, intensity: 10.7
	},{mass: 681.617, intensity: 65.0
	},{mass: 682.447, intensity: 50.0
	},{mass: 683.628, intensity: 8.9
	},{mass: 684.556, intensity: 31.5
	},{mass: 686.523, intensity: 15.5
	},{mass: 687.544, intensity: 13.5
	},{mass: 688.490, intensity: 26.5
	},{mass: 690.769, intensity: 34.7
	},{mass: 691.447, intensity: 10.3
	},{mass: 692.507, intensity: 7.9
	},{mass: 693.237, intensity: 14.8
	},{mass: 694.211, intensity: 25.5
	},{mass: 695.385, intensity: 7.2
	},{mass: 696.223, intensity: 17.2
	},{mass: 698.546, intensity: 48.0
	},{mass: 700.364, intensity: 25.8
	},{mass: 702.420, intensity: 32.8
	},{mass: 704.330, intensity: 18.6
	},{mass: 705.142, intensity: 21.1
	},{mass: 706.227, intensity: 3.7
	},{mass: 707.426, intensity: 17.0
	},{mass: 709.647, intensity: 35.2
	},{mass: 711.570, intensity: 25.9
	},{mass: 712.398, intensity: 7.1
	},{mass: 713.465, intensity: 7.9
	},{mass: 714.318, intensity: 9.5
	},{mass: 715.643, intensity: 6.9
	},{mass: 717.512, intensity: 32.4
	},{mass: 718.225, intensity: 2.2
	},{mass: 719.328, intensity: 5.9
	},{mass: 720.345, intensity: 8.7
	},{mass: 721.363, intensity: 2.1
	},{mass: 722.529, intensity: 32.8
	},{mass: 723.379, intensity: 24.2
	},{mass: 724.349, intensity: 7.1
	},{mass: 725.716, intensity: 11.0
	},{mass: 726.477, intensity: 3.5
	},{mass: 727.171, intensity: 7.3
	},{mass: 728.668, intensity: 59.8
	},{mass: 729.934, intensity: 15.7
	},{mass: 730.687, intensity: 9.4
	},{mass: 731.424, intensity: 118.9
	},{mass: 732.410, intensity: 78.5
	},{mass: 734.124, intensity: 66.3
	},{mass: 735.105, intensity: 64.0
	},{mass: 736.260, intensity: 10.4
	},{mass: 737.618, intensity: 60.1
	},{mass: 738.443, intensity: 58.7
	},{mass: 739.151, intensity: 25.9
	},{mass: 740.315, intensity: 5.6
	},{mass: 741.639, intensity: 39.1
	},{mass: 742.334, intensity: 35.0
	},{mass: 743.332, intensity: 8.3
	},{mass: 744.297, intensity: 4.8
	},{mass: 748.393, intensity: 11.5
	},{mass: 751.444, intensity: 12.7
	},{mass: 777.604, intensity: 62.7
	},{mass: 778.357, intensity: 13.9
	},{mass: 778.962, intensity: 12.0
	},{mass: 779.597, intensity: 11.3
	},{mass: 781.228, intensity: 7.4
	},{mass: 783.027, intensity: 57.9
	},{mass: 784.411, intensity: 23.9
	},{mass: 785.583, intensity: 28.3
	},{mass: 786.314, intensity: 138.2
	},{mass: 787.261, intensity: 97.1
	},{mass: 788.160, intensity: 42.6
	},{mass: 789.521, intensity: 74.8
	},{mass: 791.015, intensity: 104.5
	},{mass: 792.180, intensity: 106.5
	},{mass: 793.328, intensity: 13.1
	},{mass: 796.652, intensity: 3.2
	},{mass: 803.358, intensity: 11.9
	},{mass: 824.360, intensity: 25.1
	},{mass: 828.518, intensity: 15.7
	},{mass: 854.044, intensity: 12.2
	},{mass: 859.043, intensity: 39.0
	},{mass: 865.471, intensity: 9.3
	},{mass: 867.445, intensity: 5.9
	},{mass: 869.712, intensity: 2.7
	},{mass: 870.317, intensity: 3.0
	},{mass: 871.669, intensity: 14.7
	},{mass: 873.284, intensity: 25.1
	},{mass: 877.120, intensity: 33.6
	},{mass: 879.454, intensity: 8.4
	},{mass: 880.791, intensity: 11.6
	},{mass: 884.502, intensity: 7.9
	},{mass: 886.482, intensity: 1.5
	},{mass: 887.394, intensity: 2.3
	},{mass: 888.316, intensity: 19.9
	},{mass: 889.602, intensity: 24.2
	},{mass: 890.442, intensity: 17.7
	},{mass: 891.754, intensity: 5.2
	},{mass: 892.510, intensity: 13.2
	},{mass: 897.280, intensity: 57.9
	},{mass: 899.264, intensity: 5.9
	},{mass: 902.309, intensity: 13.6
	},{mass: 903.460, intensity: 6.2
	},{mass: 905.354, intensity: 45.8
	},{mass: 908.127, intensity: 9.2
	},{mass: 910.526, intensity: 23.4
	},{mass: 912.460, intensity: 8.2
	},{mass: 913.778, intensity: 21.9
	},{mass: 914.480, intensity: 23.4
	},{mass: 915.423, intensity: 86.1
	},{mass: 916.453, intensity: 65.2
	},{mass: 917.623, intensity: 11.6
	},{mass: 920.762, intensity: 28.0
	},{mass: 921.880, intensity: 31.9
	},{mass: 923.817, intensity: 6.8
	},{mass: 925.214, intensity: 10.8
	},{mass: 926.102, intensity: 18.2
	},{mass: 926.924, intensity: 11.9
	},{mass: 928.053, intensity: 17.0
	},{mass: 929.346, intensity: 11.0
	},{mass: 931.246, intensity: 19.2
	},{mass: 933.362, intensity: 380.7
	},{mass: 934.486, intensity: 162.4
	},{mass: 935.388, intensity: 53.4
	},{mass: 936.373, intensity: 1.9
	},{mass: 937.255, intensity: 33.9
	},{mass: 939.587, intensity: 6.7
	},{mass: 942.010, intensity: 48.7
	},{mass: 943.384, intensity: 56.8
	},{mass: 945.070, intensity: 29.7
	},{mass: 946.148, intensity: 12.1
	},{mass: 947.496, intensity: 36.1
	},{mass: 948.659, intensity: 6.5
	},{mass: 949.488, intensity: 30.2
	},{mass: 951.279, intensity: 17.9
	},{mass: 951.955, intensity: 60.4
	},{mass: 953.473, intensity: 4.5
	},{mass: 955.362, intensity: 41.7
	},{mass: 956.508, intensity: 1.5
	},{mass: 957.516, intensity: 13.1
	},{mass: 958.658, intensity: 29.2
	},{mass: 960.245, intensity: 62.2
	},{mass: 961.487, intensity: 71.7
	},{mass: 962.305, intensity: 6.8
	},{mass: 963.392, intensity: 5.6
	},{mass: 964.129, intensity: 25.4
	},{mass: 966.619, intensity: 30.4
	},{mass: 967.494, intensity: 5.6
	},{mass: 970.328, intensity: 15.5
	},{mass: 973.260, intensity: 15.2
	},{mass: 975.548, intensity: 3.6
	},{mass: 977.422, intensity: 2.1
	},{mass: 979.103, intensity: 27.5
	},{mass: 980.561, intensity: 74.5
	},{mass: 982.045, intensity: 4.9
	},{mass: 983.768, intensity: 35.6
	},{mass: 985.166, intensity: 3.4
	},{mass: 985.827, intensity: 20.1
	},{mass: 988.273, intensity: 31.8
	},{mass: 989.963, intensity: 6.3
	},{mass: 991.015, intensity: 18.4
	},{mass: 994.441, intensity: 28.9
	},{mass: 996.926, intensity: 24.9
	},{mass: 998.813, intensity: 9.1
	},{mass: 1000.289, intensity: 37.8
	},{mass: 1001.558, intensity: 20.1
	},{mass: 1002.755, intensity: 17.9
	},{mass: 1005.527, intensity: 26.6
	},{mass: 1006.318, intensity: 8.0
	},{mass: 1007.763, intensity: 23.6
	},{mass: 1010.416, intensity: 61.3
	},{mass: 1011.378, intensity: 41.7
	},{mass: 1012.025, intensity: 18.3
	},{mass: 1013.410, intensity: 18.4
	},{mass: 1014.077, intensity: 32.0
	},{mass: 1015.596, intensity: 44.2
	},{mass: 1017.819, intensity: 34.2
	},{mass: 1019.620, intensity: 2.6
	},{mass: 1020.270, intensity: 15.3
	},{mass: 1021.849, intensity: 26.0
	},{mass: 1023.289, intensity: 1.8
	},{mass: 1024.612, intensity: 11.0
	},{mass: 1026.746, intensity: 23.3
	},{mass: 1028.438, intensity: 15.5
	},{mass: 1029.133, intensity: 4.3
	},{mass: 1030.735, intensity: 43.4
	},{mass: 1040.297, intensity: 5.3
	},{mass: 1041.163, intensity: 5.0
	},{mass: 1042.524, intensity: 13.6
	},{mass: 1044.555, intensity: 24.3
	},{mass: 1045.821, intensity: 3.0
	},{mass: 1048.365, intensity: 16.0
	},{mass: 1048.976, intensity: 12.0
	},{mass: 1051.235, intensity: 56.7
	},{mass: 1053.095, intensity: 4.7
	},{mass: 1053.718, intensity: 5.3
	},{mass: 1054.983, intensity: 24.0
	},{mass: 1055.673, intensity: 3.6
	},{mass: 1056.599, intensity: 2.7
	},{mass: 1058.611, intensity: 13.8
	},{mass: 1059.345, intensity: 9.3
	},{mass: 1062.380, intensity: 76.7
	},{mass: 1063.485, intensity: 53.8
	},{mass: 1064.696, intensity: 9.8
	},{mass: 1065.559, intensity: 6.1
	},{mass: 1068.392, intensity: 45.3
	},{mass: 1069.702, intensity: 17.8
	},{mass: 1073.219, intensity: 38.9
	},{mass: 1074.325, intensity: 29.4
	},{mass: 1077.096, intensity: 25.2
	},{mass: 1078.517, intensity: 8.2
	},{mass: 1080.469, intensity: 296.3
	},{mass: 1081.393, intensity: 257.0
	},{mass: 1082.350, intensity: 53.4
	},{mass: 1083.278, intensity: 9.8
	},{mass: 1084.064, intensity: 31.9
	},{mass: 1085.269, intensity: 7.1
	},{mass: 1088.701, intensity: 9.9
	},{mass: 1092.269, intensity: 5.1
	},{mass: 1093.629, intensity: 1.6
	},{mass: 1094.256, intensity: 6.9
	},{mass: 1096.411, intensity: 147.3
	},{mass: 1097.401, intensity: 75.9
	},{mass: 1098.230, intensity: 21.4
	},{mass: 1098.971, intensity: 9.1
	},{mass: 1100.613, intensity: 2.1
	},{mass: 1104.280, intensity: 45.1
	},{mass: 1108.594, intensity: 25.5
	},{mass: 1110.564, intensity: 2.8
	},{mass: 1113.672, intensity: 4.3
	},{mass: 1115.600, intensity: 5.6
	},{mass: 1122.844, intensity: 37.4
	},{mass: 1126.927, intensity: 7.4
	},{mass: 1128.380, intensity: 2.6
	},{mass: 1134.231, intensity: 9.1
	},{mass: 1140.216, intensity: 23.1
	},{mass: 1142.389, intensity: 5.6
	},{mass: 1145.663, intensity: 18.1
	},{mass: 1147.058, intensity: 10.2
	},{mass: 1148.241, intensity: 8.4
	},{mass: 1149.901, intensity: 17.5
	},{mass: 1152.400, intensity: 1.6
	},{mass: 1153.556, intensity: 5.9
	},{mass: 1154.640, intensity: 3.9
	},{mass: 1155.716, intensity: 14.8
	},{mass: 1160.658, intensity: 4.6
	},{mass: 1162.846, intensity: 26.4
	},{mass: 1164.084, intensity: 18.4
	},{mass: 1165.142, intensity: 4.2
	},{mass: 1167.107, intensity: 62.8
	},{mass: 1167.783, intensity: 6.5
	},{mass: 1168.509, intensity: 8.2
	},{mass: 1172.223, intensity: 18.1
	},{mass: 1173.355, intensity: 63.5
	},{mass: 1175.582, intensity: 12.7
	},{mass: 1177.582, intensity: 4.4
	},{mass: 1178.665, intensity: 21.7
	},{mass: 1180.352, intensity: 14.1
	},{mass: 1187.256, intensity: 18.8
	},{mass: 1189.308, intensity: 15.8
	},{mass: 1190.379, intensity: 3.6
	},{mass: 1191.470, intensity: 53.7
	},{mass: 1192.666, intensity: 14.3
	},{mass: 1193.650, intensity: 12.3
	},{mass: 1194.372, intensity: 11.4
	},{mass: 1195.545, intensity: 302.4
	},{mass: 1196.590, intensity: 96.6
	},{mass: 1197.515, intensity: 18.1
	},{mass: 1200.689, intensity: 18.9
	},{mass: 1203.019, intensity: 22.8
	},{mass: 1205.688, intensity: 13.9
	},{mass: 1206.537, intensity: 19.1
	},{mass: 1209.661, intensity: 65.9
	},{mass: 1210.664, intensity: 59.5
	},{mass: 1211.460, intensity: 16.3
	},{mass: 1212.480, intensity: 36.1
	},{mass: 1213.483, intensity: 22.5
	},{mass: 1215.608, intensity: 22.8
	},{mass: 1220.758, intensity: 6.7
	},{mass: 1221.399, intensity: 8.2
	},{mass: 1223.620, intensity: 44.9
	},{mass: 1228.170, intensity: 6.0
	},{mass: 1230.258, intensity: 29.0
	},{mass: 1231.571, intensity: 27.9
	},{mass: 1232.401, intensity: 14.2
	},{mass: 1235.392, intensity: 16.7
	},{mass: 1240.744, intensity: 11.8
	},{mass: 1241.905, intensity: 1.9
	},{mass: 1248.345, intensity: 117.2
	},{mass: 1249.757, intensity: 44.9
	},{mass: 1250.633, intensity: 12.7
	},{mass: 1251.286, intensity: 20.8
	},{mass: 1254.028, intensity: 1.8
	},{mass: 1257.346, intensity: 29.6
	},{mass: 1260.676, intensity: 6.0
	},{mass: 1263.399, intensity: 18.3
	},{mass: 1266.442, intensity: 771.8
	},{mass: 1267.454, intensity: 440.1
	},{mass: 1268.504, intensity: 103.7
	},{mass: 1270.608, intensity: 23.9
	},{mass: 1271.546, intensity: 1.6
	},{mass: 1272.940, intensity: 3.1
	},{mass: 1274.602, intensity: 10.2
	},{mass: 1275.782, intensity: 7.0
	},{mass: 1277.587, intensity: 6.7
	},{mass: 1279.519, intensity: 43.0
	},{mass: 1280.733, intensity: 4.2
	},{mass: 1282.320, intensity: 7.7
	},{mass: 1283.267, intensity: 22.5
	},{mass: 1285.647, intensity: 11.5
	},{mass: 1288.412, intensity: 2.7
	},{mass: 1289.066, intensity: 25.4
	},{mass: 1290.548, intensity: 11.6
	},{mass: 1292.682, intensity: 101.3
	},{mass: 1293.499, intensity: 14.7
	},{mass: 1299.387, intensity: 23.9
	},{mass: 1301.578, intensity: 26.0
	},{mass: 1302.472, intensity: 3.6
	},{mass: 1303.896, intensity: 11.4
	},{mass: 1304.941, intensity: 4.3
	},{mass: 1310.509, intensity: 343.1
	},{mass: 1311.410, intensity: 232.0
	},{mass: 1312.569, intensity: 72.2
	},{mass: 1318.619, intensity: 3.1
	},{mass: 1320.298, intensity: 22.8
	},{mass: 1323.808, intensity: 4.6
	},{mass: 1324.887, intensity: 9.9
	},{mass: 1327.005, intensity: 20.5
	},{mass: 1329.294, intensity: 4.7
	},{mass: 1336.584, intensity: 4.4
	},{mass: 1340.576, intensity: 9.2
	},{mass: 1343.801, intensity: 15.9
	},{mass: 1347.812, intensity: 16.7
	},{mass: 1350.912, intensity: 7.2
	},{mass: 1353.366, intensity: 4.0
	},{mass: 1355.359, intensity: 19.8
	},{mass: 1361.403, intensity: 92.9
	},{mass: 1362.696, intensity: 80.0
	},{mass: 1363.598, intensity: 31.6
	},{mass: 1369.293, intensity: 8.9
	},{mass: 1371.053, intensity: 15.7
	},{mass: 1375.918, intensity: 4.5
	},{mass: 1377.472, intensity: 2.4
	},{mass: 1379.068, intensity: 47.5
	},{mass: 1379.670, intensity: 311.7
	},{mass: 1380.621, intensity: 202.1
	},{mass: 1381.592, intensity: 83.2
	},{mass: 1389.477, intensity: 7.8
	},{mass: 1390.559, intensity: 8.4
	},{mass: 1391.394, intensity: 7.0
	},{mass: 1398.442, intensity: 22.8
	},{mass: 1403.410, intensity: 7.9
	},{mass: 1404.081, intensity: 7.7
	},{mass: 1407.549, intensity: 243.7
	},{mass: 1408.513, intensity: 204.6
	},{mass: 1409.575, intensity: 86.2
	},{mass: 1410.841, intensity: 9.6
	},{mass: 1416.792, intensity: 3.4
	},{mass: 1420.797, intensity: 6.2
	},{mass: 1425.443, intensity: 1097.6
	},{mass: 1426.475, intensity: 954.4
	},{mass: 1427.599, intensity: 274.6
	},{mass: 1437.802, intensity: 3.3
	},{mass: 1441.609, intensity: 2.9
	},{mass: 1444.289, intensity: 7.3
	},{mass: 1447.272, intensity: 4.3
	},{mass: 1448.629, intensity: 4.9
	},{mass: 1461.326, intensity: 5.7
	},{mass: 1464.435, intensity: 18.3
	},{mass: 1465.591, intensity: 45.5
	},{mass: 1472.550, intensity: 1.8
	},{mass: 1483.651, intensity: 4.4
	},{mass: 1484.572, intensity: 21.1
	},{mass: 1486.612, intensity: 5.7
	},{mass: 1489.645, intensity: 12.4
	},{mass: 1490.555, intensity: 8.1
	},{mass: 1495.495, intensity: 7.7
	},{mass: 1499.737, intensity: 2.2
	},{mass: 1501.228, intensity: 9.1
	},{mass: 1502.177, intensity: 3.5
	},{mass: 1506.363, intensity: 4.0
	},{mass: 1507.396, intensity: 17.0
	},{mass: 1508.182, intensity: 7.1
	},{mass: 1508.855, intensity: 2.9
	},{mass: 1517.764, intensity: 15.5
	},{mass: 1518.753, intensity: 10.9
	},{mass: 1524.572, intensity: 37.9
	},{mass: 1525.667, intensity: 55.6
	},{mass: 1526.548, intensity: 15.2
	},{mass: 1527.533, intensity: 11.9
	},{mass: 1528.398, intensity: 2.5
	},{mass: 1529.304, intensity: 13.1
	},{mass: 1534.386, intensity: 26.9
	},{mass: 1538.410, intensity: 2.1
	},{mass: 1539.706, intensity: 2.6
	},{mass: 1542.508, intensity: 254.5
	},{mass: 1543.664, intensity: 202.1
	},{mass: 1544.755, intensity: 77.4
	},{mass: 1545.566, intensity: 31.3
	},{mass: 1546.698, intensity: 2.5
	},{mass: 1551.909, intensity: 3.9
	},{mass: 1561.668, intensity: 11.5
	},{mass: 1562.745, intensity: 144.8
	},{mass: 1563.755, intensity: 105.8
	},{mass: 1564.578, intensity: 55.2
	},{mass: 1572.796, intensity: 5.2
	},{mass: 1581.606, intensity: 17.0
	},{mass: 1582.585, intensity: 13.2
	},{mass: 1591.011, intensity: 5.0
	},{mass: 1596.411, intensity: 4.9
	},{mass: 1599.802, intensity: 80.8
	},{mass: 1600.574, intensity: 165.1
	},{mass: 1601.594, intensity: 20.4
	},{mass: 1603.747, intensity: 7.4
	},{mass: 1604.646, intensity: 18.3
	},{mass: 1609.550, intensity: 4.1
	},{mass: 1619.133, intensity: 20.3
	},{mass: 1620.427, intensity: 4.9
	},{mass: 1663.376, intensity: 1.8
	},{mass: 1666.933, intensity: 4.2
	},{mass: 1692.108, intensity: 15.4
	},{mass: 1699.823, intensity: 5.6
	},{mass: 1700.728, intensity: 9.0
	},{mass: 1702.317, intensity: 9.0
	},{mass: 1714.220, intensity: 1.6
	},{mass: 1714.999, intensity: 5.4
	},{mass: 1715.978, intensity: 6.0}];
			
			var pep = new mpimp.jsprot.Peptide();
			pep.Sequence = 'HGYIGEFEYVDDHR';
			pep.NTerminus = 'H';
			pep.CTerminus = 'OH';
			
			var strIon = 'b';
			var ic = new mpimp.jsprot.peptide.IonCalculator({
				peptide: pep,
				maxcharge: 2,
				weighttype: 'monoisotopic',
				neutralloss: ['H2O', 'NH3'],
				customtemplate: new Ext.XTemplate('{ion}{index}{["++++++++++".substr(0, values.charge)]} {flag}')
			});
			
			document.writeln('<h3>Testing</h3>');
			document.writeln('Peptide: '+pep.Sequence+'<br />');
			
			var arrB = ic.calculateIon('b');
			var arrY = ic.calculateIon('y');
			var arrAll = arrB.concat(arrY);
			
			var spec = new mpimp.jsprot.peptide.Spectrum({
				spectrum: arrSpectrum,
				peptide: pep
			});
			
			var arrAnnot = spec.annotateSpectrum(arrAll, 'mass', 'intensity', 'custom', 300, 'ppm');
			/*
			document.writeln('<h3>Annotated spectrum</h3>');
			document.writeln('<table style="border: null">');
			for (var j=0; j<arrAnnot.length; j++) {
				document.writeln('<tr><td>'+String(arrAnnot[j].mass)+'</td><td>'+String(arrAnnot[j].intensity)+
					'</td><td>'+String(arrAnnot[j].custom)+'</td></tr>');
			}
			document.writeln('</table>');
			*/
			
			
			var objSpecUi = new mpimp.jsprot.ui.Spectrum({
				drawer: new mpimp.jsprot.ui.spectrum.GoogleVisDrawer({
					width: 900,
					height: 400,
					is3D: false,
					colors: ['#888', '#00f'],
					legend: 'none'
				}),
				renderTo: Ext.get('spec'),
				spectrum: arrAnnot,
				annotationproperty: 'custom'
			});
			objSpecUi.draw();			
		</script>
		
	</body>
</html>